<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>GlacioLive Login</title>
<style>
  body{font:18px Arial;background:#0a1628;color:#fff;display:flex;align-items:center;justify-content:center;min-height:100vh}
  .box{background:#fff;color:#000;padding:40px;border-radius:16px;width:340px;text-align:center;box-shadow:0 10px 30px #0003}
  input,button{width:100%;padding:14px;margin:12px 0;border-radius:8px;font-size:16px}
  input{border:1px solid #ccc}
  button{background:#4fc3f7;color:#fff;border:none;cursor:pointer}
  button:hover{background:#29b6f6}
  .otp{display:none}
  #msg{margin:10px 0;color:#d32f2f}
</style>
</head><body>
<div class="box">
  <h2>GlacioLive Login</h2>
  <input type="tel" id="phone" placeholder="+919876543210" value="+918918629407">
  <button onclick="send()">Send OTP</button>
  <div id="msg"></div>
  <div class="otp" id="otp">
    <input type="text" id="code" placeholder="Enter 6-digit OTP">
    <button onclick="verify()">Verify</button>
  </div>
</div>

<script>
let OTP;
async function send() {
  const phone = document.getElementById('phone').value.trim();
  if (!phone.startsWith('+91')) return alert('Use +91 Indian number');
  
  document.getElementById('msg').innerHTML = 'Sending...';

  const res = await fetch('https://glacio-otp-1138.twil.io/send-otp', {
    method: 'POST',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: 'phone=' + encodeURIComponent(phone)
  });

  const data = await res.json();
  if (data.success) {
    OTP = data.otp;
    document.getElementById('msg').innerHTML = '<span style="color:#4caf50">OTP sent from +12298149128!</span>';
    document.getElementById('otp').style.display = 'block';
  } else {
    document.getElementById('msg').innerHTML = '<span style="color:red">Failed. Try again.</span>';
  }
}

function verify() {
  if (document.getElementById('code').value == OTP) {
    alert('Login Success!');
    location.href = 'index.html';
  } else {
    document.getElementById('msg').innerHTML = '<span style="color:red">Wrong OTP!</span>';
  }
}
</script>
</body></html>